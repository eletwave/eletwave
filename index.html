<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ELETWAVE | Impianti elettrici smart</title>
    <meta
      name="description"
      content="ELETWAVE realizza impianti elettrici moderni, soluzioni smart energy e sicurezza per abitazioni e aziende."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <div class="sticky-nav">
        <div class="nav-links">
          <a class="nav-item nav-item--primary" href="#chi-siamo" data-i18n="nav.about">Chi siamo</a>
          <a class="nav-item nav-item--services" href="#servizi" data-i18n="nav.services">Servizi</a>
          <a class="nav-item nav-item--service" href="#elettrico" data-i18n="nav.electrical">Impianti elettrici</a>
          <a class="nav-item nav-item--service" href="#fotovoltaico" data-i18n="nav.solar">Fotovoltaico</a>
          <a class="nav-item nav-item--service" href="#wallbox" data-i18n="nav.wallbox">Wallbox</a>
          <a class="nav-item nav-item--service" href="#sicurezza" data-i18n="nav.security">Videosorveglianza</a>
          <a class="nav-item nav-item--service" href="#domotica" data-i18n="nav.domotics">Domotica</a>
          <a class="nav-item nav-item--service" href="#reti" data-i18n="nav.networks">Reti</a>
          <a class="nav-item nav-item--primary" href="#contatti" data-i18n="nav.contacts">Contatti</a>
        </div>
        <div class="lang-toggle" aria-label="Language selector">
          <select class="lang-select" id="lang-select" aria-label="Seleziona lingua">
            <option value="it">üáÆüáπ</option>
            <option value="en">üá¨üáß</option>
            <option value="sl">üá∏üáÆ</option>
          </select>
        </div>
      </div>
      <header class="site-header">
        <div class="logo-header">
          <img class="logo logo-large" src="assets/logo.png" alt="ELETWAVE logo" />
        </div>
      </header>
      <main>
        <section class="company" id="chi-siamo">
          <h1 class="hero-title">
            <span class="brand-title">ELETWAVE</span>
            <span data-i18n="hero.title">installa energia intelligente nei tuoi spazi.</span>
          </h1>
          <div class="company-grid">
            <div class="hero-copy">
              <p class="lead" data-i18n="hero.lead">
                Soluzioni rapide e pulite per impianti civili e industriali, con
                attenzione a sicurezza, efficienza e risparmio energetico. Seguiamo
                ogni progetto dalla consulenza all'installazione, con standard
                elevati, materiali affidabili e una cura artigianale che si vede
                nel tempo. Pianifichiamo ogni intervento con precisione, riduciamo
                al minimo i disagi e consegniamo impianti pronti a durare, con
                assistenza continua e soluzioni pensate per crescere con le tue
                esigenze.
              </p>
            </div>
            <div class="service-areas">
              <div class="service-areas__icon" aria-hidden="true">
                <img src="assets/icon-place-marker.png" alt="" />
              </div>
              <div class="service-areas__list">
                <p class="service-areas__title" data-i18n="areas.title">Operativi in</p>
                <div class="area-scroller">
                  <div class="area-track">
                    <span>Gorizia</span><span>Nova Gorica</span><span>Trieste</span><span>Koper</span>
                    <span>Piran</span><span>Udine</span><span>Pordenone</span><span>Venezia</span>
                    <span>Treviso</span><span>Padova</span><span>Vicenza</span><span>Verona</span>
                    <span>Trento</span><span>Bolzano</span><span>Milano</span>
                    <span>Gorizia</span><span>Nova Gorica</span><span>Trieste</span><span>Koper</span>
                    <span>Piran</span><span>Udine</span><span>Pordenone</span><span>Venezia</span>
                    <span>Treviso</span><span>Padova</span><span>Vicenza</span><span>Verona</span>
                    <span>Trento</span><span>Bolzano</span><span>Milano</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="services-scroll" id="servizi">
          <div class="section-title section-title--beam">
            <h2 data-i18n="services.title">Servizi</h2>
          </div>
          <div class="scroll-container">
            <article class="service-card service-card--grey scroll-card" id="elettrico">
              <div class="service-card__content">
                <h3 data-i18n="services.electrical.title">Impianti elettrici</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/man-electrical-technician-working-switchboard-with-fuses-installation-connection-electrical-equipment-close-up.jpg"
                    alt="Impianto elettrico"
                  />
                  <p data-i18n="services.electrical.desc">
                    Impianti civili e industriali a norma, con quadri, linee e punti luce.
                    Manutenzioni e interventi rapidi su guasti.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--yellow scroll-card" id="fotovoltaico">
              <div class="service-card__content">
                <h3 data-i18n="services.solar.title">Impianti fotovoltaici con accumulo</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/impianto%20fotovoltaico.png"
                    alt="Impianto fotovoltaico"
                  />
                  <p data-i18n="services.solar.desc">
                    Pannelli, inverter e batterie su misura per massimizzare autoconsumo
                    ed efficienza. Integriamo ottimizzatori quando serve.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--green scroll-card" id="wallbox">
              <div class="service-card__content">
                <h3 data-i18n="services.wallbox.title">Wallbox per ricarica EV</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2026%20gen%202026,%2010_29_34.png"
                    alt="Wallbox per ricarica auto elettriche"
                  />
                  <p data-i18n="services.wallbox.desc">
                    Wallbox con potenza configurata, protezioni dedicate e
                    integrazione con fotovoltaico.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--red scroll-card" id="sicurezza">
              <div class="service-card__content">
                <h3 data-i18n="services.security.title">Videosorveglianza e antifurti</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2026%20gen%202026,%2010_42_49.png"
                    alt="Sistema di allarme e videosorveglianza"
                  />
                  <p data-i18n="services.security.desc">
                    Telecamere e antifurto con accesso remoto, notifiche in tempo reale
                    e registrazioni sicure.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--blue scroll-card" id="domotica">
              <div class="service-card__content">
                <h3 data-i18n="services.domotics.title">Domotica</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2023%20gen%202026,%2018_09_17.png"
                    alt="Sistema domotico"
                  />
                  <p data-i18n="services.domotics.desc">
                    Controllo smart di luci, clima e accessi da app o voce,
                    per piu comfort e risparmio.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--cyan scroll-card" id="reti">
              <div class="service-card__content">
                <h3 data-i18n="services.networks.title">Reti e cablaggi</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2023%20gen%202026,%2018_09_07.png"
                    alt="Reti e cablaggi"
                  />
                  <p data-i18n="services.networks.desc">
                    Reti dati e cablaggi con rack e punti certificati
                    per connessioni stabili.
                  </p>
                </div>
              </div>
            </article>
          </div>
          <div class="scroll-hint" aria-hidden="true">
            <span data-i18n="services.scroll">Scorri</span>
            <span class="scroll-hint__arrows">‚Äπ ‚Ä∫</span>
          </div>
        </section>
      </main>

      <footer class="footer" id="contatti">
        <div class="footer-content">
          <div class="footer-block">
            <h2 data-i18n="contacts.title">Contatti</h2>
            <div class="cards-beam" aria-hidden="true"></div>
            <div class="contact-icons social-links social-links--center">
              <a href="tel:+390000000000" aria-label="Telefono">
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-phone.png" alt="" />
                </span>
              </a>
              <a href="mailto:eletwave@gmail.com" aria-label="Email">
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-email.png" alt="" />
                </span>
              </a>
              <a
                href="https://www.instagram.com/eletwave/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Instagram"
              >
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-instagram.png" alt="" />
                </span>
              </a>
              <a
                href="https://facebook.com"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Facebook"
              >
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-facebook.png" alt="" />
                </span>
              </a>
              <a
                href="https://wa.me/391234567890"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="WhatsApp"
              >
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-whatsapp.png" alt="" />
                </span>
              </a>
            </div>
            <p data-i18n="contacts.phone">Telefono: inserisci il numero principale</p>
            <p data-i18n-html="contacts.email">Email: <a href="mailto:eletwave@gmail.com">eletwave@gmail.com</a></p>
            <p data-i18n="contacts.area">Zona operativa: FVG</p>
            <p data-i18n="contacts.vat">P.IVA: inserisci partita IVA</p>
          </div>
        </div>
        <p class="footer-note" data-i18n="footer.note">ELETWAVE. Impianti elettrici &amp; smart energy.</p>
      </footer>
    </div>
    <script>
      const heroTitle = document.querySelector(".hero-title");
      const beamTitle = document.querySelector(".section-title--beam");
      const cardsBeam = document.querySelector(".cards-beam");
      const companySection = document.querySelector(".company");
      const cards = Array.from(document.querySelectorAll(".scroll-card"));
      const serviziTitle = document.querySelector("#servizi .section-title h2");
      const scrollContainer = document.querySelector(".scroll-container");
      const servicesSection = document.querySelector(".services-scroll");
      const areaScroller = document.querySelector(".area-scroller");
      const areaItems = areaScroller
        ? Array.from(areaScroller.querySelectorAll(".area-track span"))
        : [];
      const langSelect = document.querySelector("#lang-select");
      let ticking = false;
      let cardsTicking = false;
      let areaLastTick = 0;

      const updateScrollEffects = () => {
        const scrollY = window.scrollY;
        if (heroTitle) {
          const lift = Math.min(180, scrollY * 0.35);
          heroTitle.style.transform = `translateY(${-lift}px)`;
          const rect = heroTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8 && rect.bottom > vh * 0.2) {
            heroTitle.classList.add("is-lit");
          } else {
            heroTitle.classList.remove("is-lit");
          }
        }

        if (serviziTitle) {
          const rect = serviziTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          const progress = Math.min(1, Math.max(0, (vh * 0.85 - rect.top) / (vh * 0.45)));
          serviziTitle.style.transform = `translateY(${-24 * progress}px)`;
        }

        if (beamTitle) {
          const rect = beamTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.75 && rect.bottom > 0) {
            beamTitle.classList.add("is-lit");
          } else {
            beamTitle.classList.remove("is-lit");
          }
        }

        if (cardsBeam) {
          const rect = cardsBeam.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8 && rect.bottom > 0) {
            cardsBeam.classList.add("is-lit");
          } else {
            cardsBeam.classList.remove("is-lit");
          }
        }

        if (companySection) {
          const rect = companySection.getBoundingClientRect();
          const vh = window.innerHeight;
          const center = rect.top + rect.height / 2;
          const distance = Math.abs(vh / 2 - center);
          const range = vh * 0.8;
          const intensity = Math.max(0, 1 - distance / range);
          const scale = 0.85 + intensity * 0.2;
          companySection.style.setProperty("--circuit-opacity", (0.15 + intensity * 0.55).toFixed(3));
          companySection.style.setProperty("--circuit-scale", scale.toFixed(3));
        }

        if (servicesSection) {
          const rect = servicesSection.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8) {
            servicesSection.classList.add("is-revealed");
          }
        }

        ticking = false;
      };

      const onScroll = () => {
        if (!ticking) {
          window.requestAnimationFrame(updateScrollEffects);
          ticking = true;
        }
      };

      window.addEventListener("scroll", onScroll, { passive: true });
      window.addEventListener("resize", onScroll);
      const stickyNav = document.querySelector(".sticky-nav");
      const updateNavState = () => {
        if (!stickyNav) {
          return;
        }
        if (window.scrollY > 60) {
          stickyNav.classList.add("is-scrolled");
        } else {
          stickyNav.classList.remove("is-scrolled");
        }
      };
      window.addEventListener("scroll", updateNavState, { passive: true });
      window.addEventListener("resize", updateNavState);
      updateNavState();
      updateScrollEffects();

      const updateAreaFocus = () => {
        if (!areaScroller || areaItems.length === 0) {
          return;
        }
        const scrollerRect = areaScroller.getBoundingClientRect();
        const centerY = scrollerRect.top + scrollerRect.height / 2;
        let active = null;
        let activeDist = Infinity;
        const above = [];
        const below = [];

        areaItems.forEach((item) => {
          item.classList.remove("is-active", "is-up-1", "is-up-2", "is-down-1", "is-down-2");
          const rect = item.getBoundingClientRect();
          const itemCenter = rect.top + rect.height / 2;
          const dist = Math.abs(itemCenter - centerY);
          if (dist < activeDist) {
            activeDist = dist;
            active = item;
          }
        });

        areaItems.forEach((item) => {
          if (item === active) {
            return;
          }
          const rect = item.getBoundingClientRect();
          const itemCenter = rect.top + rect.height / 2;
          const delta = itemCenter - centerY;
          const dist = Math.abs(delta);
          if (delta < 0) {
            above.push({ item, dist });
          } else {
            below.push({ item, dist });
          }
        });

        if (active) {
          active.classList.add("is-active");
        }

        above.sort((a, b) => a.dist - b.dist);
        below.sort((a, b) => a.dist - b.dist);

        if (above[0]) {
          above[0].item.classList.add("is-up-1");
        }
        if (above[1]) {
          above[1].item.classList.add("is-up-2");
        }
        if (below[0]) {
          below[0].item.classList.add("is-down-1");
        }
        if (below[1]) {
          below[1].item.classList.add("is-down-2");
        }
      };

      const areaLoop = (time) => {
        if (!areaScroller) {
          return;
        }
        if (time - areaLastTick > 120) {
          updateAreaFocus();
          areaLastTick = time;
        }
        window.requestAnimationFrame(areaLoop);
      };

      if (areaScroller && areaItems.length) {
        window.requestAnimationFrame(areaLoop);
        window.addEventListener("resize", updateAreaFocus);
      }

      const translations = {
        it: {
          "nav.about": "Chi siamo",
          "nav.services": "Servizi",
          "nav.electrical": "Impianti elettrici",
          "nav.solar": "Fotovoltaico",
          "nav.wallbox": "Wallbox",
          "nav.security": "Videosorveglianza",
          "nav.domotics": "Domotica",
          "nav.networks": "Reti",
          "nav.contacts": "Contatti",
          "hero.title": "installa energia intelligente nei tuoi spazi.",
          "hero.lead":
            "Soluzioni rapide e pulite per impianti civili e industriali, con attenzione a sicurezza, efficienza e risparmio energetico. Seguiamo ogni progetto dalla consulenza all'installazione, con standard elevati, materiali affidabili e una cura artigianale che si vede nel tempo. Pianifichiamo ogni intervento con precisione, riduciamo al minimo i disagi e consegniamo impianti pronti a durare, con assistenza continua e soluzioni pensate per crescere con le tue esigenze.",
          "services.title": "Servizi",
          "services.electrical.title": "Impianti elettrici",
          "services.electrical.desc":
            "Impianti civili e industriali a norma, con quadri, linee e punti luce. Manutenzioni e interventi rapidi su guasti.",
          "services.solar.title": "Impianti fotovoltaici con accumulo",
          "services.solar.desc":
            "Pannelli, inverter e batterie su misura per massimizzare autoconsumo ed efficienza. Integriamo ottimizzatori quando serve.",
          "services.wallbox.title": "Wallbox per ricarica EV",
          "services.wallbox.desc":
            "Wallbox con potenza configurata, protezioni dedicate e integrazione con fotovoltaico.",
          "services.security.title": "Videosorveglianza e antifurti",
          "services.security.desc":
            "Telecamere e antifurto con accesso remoto, notifiche in tempo reale e registrazioni sicure.",
          "services.domotics.title": "Domotica",
          "services.domotics.desc":
            "Controllo smart di luci, clima e accessi da app o voce, per piu comfort e risparmio.",
          "services.networks.title": "Reti e cablaggi",
          "services.networks.desc": "Reti dati e cablaggi con rack e punti certificati per connessioni stabili.",
          "services.scroll": "Scorri",
          "areas.title": "Operativi in",
          "contacts.title": "Contatti",
          "contacts.phone": "Telefono: inserisci il numero principale",
          "contacts.email": "Email: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Zona operativa: FVG",
          "contacts.vat": "P.IVA: inserisci partita IVA",
          "footer.note": "ELETWAVE. Impianti elettrici &amp; smart energy."
        },
        en: {
          "nav.about": "About",
          "nav.services": "Services",
          "nav.electrical": "Electrical",
          "nav.solar": "Solar",
          "nav.wallbox": "Wallbox",
          "nav.security": "Security",
          "nav.domotics": "Domotics",
          "nav.networks": "Networks",
          "nav.contacts": "Contacts",
          "hero.title": "installs smart energy in your spaces.",
          "hero.lead":
            "Fast, clean solutions for residential and industrial systems, focused on safety, efficiency, and energy savings. We follow every project from consultation to installation, with high standards, reliable materials, and craftsmanship that lasts. We plan every intervention precisely, minimize disruptions, and deliver systems built to endure, with ongoing support and solutions that grow with your needs.",
          "services.title": "Services",
          "services.electrical.title": "Electrical systems",
          "services.electrical.desc":
            "Compliant residential and industrial systems with panels, lines, and lighting points. Maintenance and fast fault response.",
          "services.solar.title": "Solar with storage",
          "services.solar.desc":
            "Tailored panels, inverters, and batteries to maximize self-consumption and efficiency. Optimizers when needed.",
          "services.wallbox.title": "EV wallbox charging",
          "services.wallbox.desc":
            "Wallbox with configured power, dedicated protections, and solar integration.",
          "services.security.title": "CCTV and alarms",
          "services.security.desc":
            "Cameras and alarms with remote access, real-time alerts, and secure recordings.",
          "services.domotics.title": "Domotics",
          "services.domotics.desc":
            "Smart control of lights, climate, and access via app or voice for more comfort and savings.",
          "services.networks.title": "Networks and cabling",
          "services.networks.desc":
            "Data networks and cabling with racks and certified points for stable connections.",
          "services.scroll": "Scroll",
          "areas.title": "Operating in",
          "contacts.title": "Contacts",
          "contacts.phone": "Phone: add main number",
          "contacts.email": "Email: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Operating area: FVG",
          "contacts.vat": "VAT: add VAT number",
          "footer.note": "ELETWAVE. Electrical systems &amp; smart energy."
        },
        sl: {
          "nav.about": "O nas",
          "nav.services": "Storitve",
          "nav.electrical": "Elektrika",
          "nav.solar": "Fotovoltaika",
          "nav.wallbox": "Wallbox",
          "nav.security": "Varnost",
          "nav.domotics": "Domotika",
          "nav.networks": "Omrezja",
          "nav.contacts": "Kontakti",
          "hero.title": "name≈°ƒça pametno energijo v va≈°e prostore.",
          "hero.lead":
            "Hitre in ciste resitve za stanovanjske in industrijske sisteme, s poudarkom na varnosti, ucinkovitosti in prihranku energije. Vsak projekt vodimo od svetovanja do montaze, z visokimi standardi, zanesljivimi materiali in kakovostjo, ki traja. Vsak poseg nacrtujemo natancno, zmanjsamo motnje in vgradimo sisteme, ki vzdrzijo, z nadaljnjo podporo in resitvami, ki rastejo z vasimi potrebami.",
          "services.title": "Storitve",
          "services.electrical.title": "Elektricni sistemi",
          "services.electrical.desc":
            "Skladni stanovanjski in industrijski sistemi s paneli, vodi in tockami razsvetljave. Vzdrzevanje in hitri posegi.",
          "services.solar.title": "Fotovoltaika z hranilniki",
          "services.solar.desc":
            "Prilagojeni paneli, razsmerniki in baterije za najvecjo samooskrbo in ucinkovitost. Po potrebi dodamo optimizatorje.",
          "services.wallbox.title": "Wallbox polnjenje EV",
          "services.wallbox.desc":
            "Wallbox z nastavljeno mocjo, namensko zascito in povezavo s fotovoltaiko.",
          "services.security.title": "Videonadzor in alarmi",
          "services.security.desc":
            "Kamere in alarmi z oddaljenim dostopom, obvestili v realnem casu in varnimi posnetki.",
          "services.domotics.title": "Domotika",
          "services.domotics.desc":
            "Pametni nadzor luci, klime in dostopa prek aplikacije ali glasu za vec udobja in prihrankov.",
          "services.networks.title": "Omrezja in kabliranje",
          "services.networks.desc":
            "Podatkovna omrezja in kabliranje z racki in certificiranimi tockami za stabilne povezave.",
          "services.scroll": "Pomakni",
          "areas.title": "Aktivni v",
          "contacts.title": "Kontakti",
          "contacts.phone": "Telefon: vnesite glavno stevilko",
          "contacts.email": "E-posta: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Obmocje dela: FVG",
          "contacts.vat": "DDV: vnesite DDV stevilko",
          "footer.note": "ELETWAVE. Elektricni sistemi &amp; pametna energija."
        }
      };

      const applyTranslations = (lang) => {
        const dict = translations[lang] || translations.it;
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (dict[key]) {
            el.textContent = dict[key];
          }
        });
        document.querySelectorAll("[data-i18n-html]").forEach((el) => {
          const key = el.getAttribute("data-i18n-html");
          if (dict[key]) {
            el.innerHTML = dict[key];
          }
        });
        if (langSelect) {
          langSelect.value = lang;
        }
      };

      const savedLang = localStorage.getItem("eletwave-lang") || "it";
      applyTranslations(savedLang);
      if (langSelect) {
        langSelect.value = savedLang;
        langSelect.addEventListener("change", () => {
          const lang = langSelect.value;
          localStorage.setItem("eletwave-lang", lang);
          applyTranslations(lang);
        });
      }

      if (scrollContainer) {
        const updateSnapPadding = () => {
          const firstCard = scrollContainer.querySelector(".scroll-card");
          if (!firstCard) {
            return;
          }
          const containerWidth = scrollContainer.getBoundingClientRect().width;
          const cardWidth = firstCard.getBoundingClientRect().width;
          const sidePadding = Math.max(0, (containerWidth - cardWidth) / 2);
          scrollContainer.style.scrollPaddingLeft = `${sidePadding}px`;
          scrollContainer.style.scrollPaddingRight = `${sidePadding}px`;
        };

        updateSnapPadding();

        const getClosestCard = () => {
          const containerRect = scrollContainer.getBoundingClientRect();
          const centerX = containerRect.left + containerRect.width / 2;
          let closest = null;
          let closestDist = Infinity;

          cards.forEach((card) => {
            const rect = card.getBoundingClientRect();
            const cardCenter = rect.left + rect.width / 2;
            const dist = Math.abs(centerX - cardCenter);
            if (dist < closestDist) {
              closestDist = dist;
              closest = card;
            }
          });

          return closest;
        };

        const updateActiveCard = () => {
          const closest = getClosestCard();
          cards.forEach((card) => card.classList.remove("is-active"));
          if (closest) {
            closest.classList.add("is-active");
          }
          cardsTicking = false;
        };

        const onCardsScroll = () => {
          if (!cardsTicking) {
            window.requestAnimationFrame(() => {
              updateActiveCard();
              cardsTicking = false;
            });
            cardsTicking = true;
          }
        };

        scrollContainer.addEventListener("scroll", onCardsScroll, { passive: true });
        window.addEventListener("resize", () => {
          updateSnapPadding();
          onCardsScroll();
        });
        updateActiveCard();
      }

    </script>
  </body>
</html>
