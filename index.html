<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ELETWAVE | Impianti elettrici smart</title>
    <meta
      name="description"
      content="ELETWAVE realizza impianti elettrici moderni, soluzioni smart energy e sicurezza per abitazioni e aziende."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <div class="sticky-nav">
        <div class="nav-links">
          <a class="nav-item nav-item--primary" href="#chi-siamo" data-i18n="nav.about">Chi siamo</a>
          <a class="nav-item nav-item--services" href="#servizi" data-i18n="nav.services">Servizi</a>
          <a class="nav-item nav-item--service" href="#elettrico" data-i18n="nav.electrical">Impianti elettrici</a>
          <a class="nav-item nav-item--service" href="#fotovoltaico" data-i18n="nav.solar">Fotovoltaico</a>
          <a class="nav-item nav-item--service" href="#wallbox" data-i18n="nav.wallbox">Wallbox</a>
          <a class="nav-item nav-item--service" href="#sicurezza" data-i18n="nav.security">Videosorveglianza</a>
          <a class="nav-item nav-item--service" href="#domotica" data-i18n="nav.domotics">Domotica</a>
          <a class="nav-item nav-item--service" href="#reti" data-i18n="nav.networks">Reti</a>
          <a class="nav-item nav-item--primary" href="#contatti" data-i18n="nav.contacts">Contatti</a>
        </div>
        <div class="lang-toggle">
          <select class="lang-select" id="lang-select" aria-label="Seleziona lingua">
            <option value="it">ðŸ‡®ðŸ‡¹</option>
            <option value="en">ðŸ‡¬ðŸ‡§</option>
            <option value="sl">ðŸ‡¸ðŸ‡®</option>
          </select>
        </div>
      </div>
      <header class="site-header">
        <div class="logo-header">
          <img class="logo logo-large" src="assets/logo.png" alt="ELETWAVE logo" />
        </div>
        <div class="header-scroll-hint" aria-hidden="true">
          <span class="header-scroll-hint__arrow"></span>
          <span class="header-scroll-hint__arrow"></span>
        </div>
      </header>
      <main>
        <section class="company" id="chi-siamo">
          <h1 class="hero-title">
            <span class="hero-title__main" data-i18n="hero.title">Energia intelligente, sicurezza concreta.</span>
          </h1>
          <div class="company-grid">
            <div class="hero-copy">
              <p class="lead" data-i18n="hero.lead">
                Eletwave e una realta dinamica specializzata nella progettazione, realizzazione e manutenzione di impianti elettrici e soluzioni tecnologiche integrate per privati e aziende. Con sede in Friuli Venezia Giulia e operativita su un ampio territorio, offriamo servizi completi che spaziano dagli impianti elettrici civili e industriali alla domotica, sicurezza, automazioni ed energie rinnovabili, accompagnando il cliente in ogni fase del progetto: dall'analisi delle esigenze fino all'assistenza post-installazione.
              </p>
              <button class="hero-more-button" type="button" aria-expanded="false" aria-controls="hero-more-content">
                <span class="hero-more-button__icon" aria-hidden="true">
                  <span class="scroll-hint__chevron hero-more-button__chevron"></span>
                  <span class="scroll-hint__chevron hero-more-button__chevron"></span>
                  <span class="scroll-hint__chevron hero-more-button__chevron"></span>
                </span>
                <span class="hero-more-button__label">Approfondisci</span>
              </button>
              <div class="hero-more-content" id="hero-more-content" aria-hidden="true">
                <p class="lead lead--more" data-i18n="hero.lead.more.1">
                  L'azienda nasce dall'iniziativa di professionisti del settore con una solida esperienza nell'impiantistica elettrica e una forte attenzione all'innovazione tecnologica. La competenza maturata sul campo, unita alla formazione continua e al costante aggiornamento sulle normative di sicurezza, consente di proporre soluzioni efficienti, sicure e su misura, progettate per migliorare comfort, prestazioni energetiche e funzionalita degli ambienti.
                </p>
                <p class="lead lead--more" data-i18n="hero.lead.more.2">
                  L'obiettivo di Eletwave e diventare un punto di riferimento per chi cerca qualita, trasparenza e supporto costante nel tempo. Crediamo nel valore del rapporto diretto con il cliente, nella cura dei dettagli e in un servizio completo capace di coniugare innovazione, affidabilita e sostenibilita, garantendo risultati concreti e duraturi.
                </p>
              </div>
            </div>
            <div class="service-areas">
              <div class="service-areas__icon" aria-hidden="true">
                <img src="assets/icon-place-marker.png" alt="" />
              </div>
              <div class="service-areas__list">
                <p class="service-areas__title" data-i18n="areas.title">Operativi a</p>
                <div class="area-scroller">
                  <div class="area-track">
                    <span>Gorizia</span><span>Udine</span><span>Trieste</span><span>Nova Gorica</span>
                    <span>Grado</span><span>Lignano</span><span>Pordenone</span><span>Tarvisio</span>
                    <span>Venezia</span><span>Treviso</span><span>Padova</span><span>Desenzano</span>
                    <span>Nova Gorica</span><span>Koper</span>
                    <span>Gorizia</span><span>Udine</span><span>Trieste</span><span>Nova Gorica</span>
                    <span>Grado</span><span>Lignano</span><span>Pordenone</span><span>Tarvisio</span>
                    <span>Venezia</span><span>Treviso</span><span>Padova</span><span>Desenzano</span>
                    <span>Nova Gorica</span><span>Koper</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="services-scroll" id="servizi">
          <div class="section-title section-title--beam">
            <h2 data-i18n="services.title">Servizi</h2>
          </div>
          <div class="scroll-container">
            <article class="service-card service-card--grey scroll-card" id="elettrico">
              <div class="service-card__content">
                <h3 data-i18n="services.electrical.title">Impianti elettrici</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/man-electrical-technician-working-switchboard-with-fuses-installation-connection-electrical-equipment-close-up.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Impianto elettrico"
                  />
                  <p data-i18n="services.electrical.desc">
                    Impianti civili e industriali a norma, con quadri, linee e punti luce.
                    Manutenzioni e interventi rapidi su guasti.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--yellow scroll-card" id="fotovoltaico">
              <div class="service-card__content">
                <h3 data-i18n="services.solar.title">Impianti fotovoltaici con accumulo</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/impianto%20fotovoltaico.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Impianto fotovoltaico"
                  />
                  <p data-i18n="services.solar.desc">
                    Pannelli, inverter e batterie su misura per massimizzare autoconsumo
                    ed efficienza. Integriamo ottimizzatori quando serve.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--green scroll-card" id="wallbox">
              <div class="service-card__content">
                <h3 data-i18n="services.wallbox.title">Wallbox per ricarica EV</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2026%20gen%202026,%2010_29_34.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Wallbox per ricarica auto elettriche"
                  />
                  <p data-i18n="services.wallbox.desc">
                    Wallbox con potenza configurata, protezioni dedicate e
                    integrazione con fotovoltaico.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--red scroll-card" id="sicurezza">
              <div class="service-card__content">
                <h3 data-i18n="services.security.title">Videosorveglianza e antifurti</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2026%20gen%202026,%2010_42_49.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Sistema di allarme e videosorveglianza"
                  />
                  <p data-i18n="services.security.desc">
                    Telecamere e antifurto con accesso remoto, notifiche in tempo reale
                    e registrazioni sicure.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--blue scroll-card" id="domotica">
              <div class="service-card__content">
                <h3 data-i18n="services.domotics.title">Domotica</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2023%20gen%202026,%2018_09_17.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Sistema domotico"
                  />
                  <p data-i18n="services.domotics.desc">
                    Controllo smart di luci, clima e accessi da app o voce,
                    per piu comfort e risparmio.
                  </p>
                </div>
              </div>
            </article>

            <article class="service-card service-card--cyan scroll-card" id="reti">
              <div class="service-card__content">
                <h3 data-i18n="services.networks.title">Reti e cablaggi</h3>
                <div class="service-media">
                  <img
                    class="service-image"
                    src="assets/ChatGPT%20Image%2023%20gen%202026,%2018_09_07.webp"
                    loading="lazy"
                    decoding="async"
                    alt="Reti e cablaggi"
                  />
                  <p data-i18n="services.networks.desc">
                    Reti dati e cablaggi con rack e punti certificati
                    per connessioni stabili.
                  </p>
                </div>
              </div>
            </article>
          </div>
          <div class="scroll-hint">
            <button
              class="scroll-hint__button scroll-hint__button--prev"
              type="button"
              aria-label="Scorri verso sinistra"
            >
              <span class="scroll-hint__button-icon" aria-hidden="true">
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
              </span>
            </button>
            <span class="scroll-hint__label" data-i18n="services.scroll">Scorri</span>
            <button
              class="scroll-hint__button scroll-hint__button--next"
              type="button"
              aria-label="Scorri verso destra"
            >
              <span class="scroll-hint__button-icon" aria-hidden="true">
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
                <span class="scroll-hint__chevron scroll-hint__button-chevron"></span>
              </span>
            </button>
          </div>
        </section>
      </main>

      <footer class="footer" id="contatti">
        <div class="footer-content">
          <div class="footer-block">
            <h2 data-i18n="contacts.title">Contatti</h2>
            <div class="contact-icons social-links social-links--center">
              <a href="tel:+393930036372" aria-label="Telefono">
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-phone.png" alt="" />
                </span>
              </a>
              <a href="mailto:eletwave@gmail.com" aria-label="Email">
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-email.png" alt="" />
                </span>
              </a>
              <a
                href="https://www.instagram.com/eletwave/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Instagram"
              >
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-instagram.png" alt="" />
                </span>
              </a>
              <a
                href="https://wa.me/393930036372"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="WhatsApp"
              >
                <span class="social-icon" aria-hidden="true">
                  <img src="assets/icon-whatsapp.png" alt="" />
                </span>
              </a>
            </div>
            <p data-i18n="contacts.phone">Telefono: +39 3930036372</p>
            <p data-i18n-html="contacts.email">Email: <a href="mailto:eletwave@gmail.com">eletwave@gmail.com</a></p>
            <p data-i18n="contacts.area">Zona operativa: FVG</p>
            <p data-i18n="contacts.vat">P.IVA: 01245000318</p>
          </div>
        </div>
        <p class="footer-note" data-i18n="footer.note">ELETWAVE. smart energy &amp; security solutions</p>
      </footer>
    </div>
    <script>
      const heroTitle = document.querySelector(".hero-title");
      const headerScrollHint = document.querySelector(".header-scroll-hint");
      const beamTitle = document.querySelector(".section-title--beam");
      const cardsBeam = document.querySelector(".cards-beam");
      const companySection = document.querySelector(".company");
      const cards = Array.from(document.querySelectorAll(".scroll-card"));
      const serviziTitle = document.querySelector("#servizi .section-title h2");
      const scrollContainer = document.querySelector(".scroll-container");
      const scrollPrevButton = document.querySelector(".scroll-hint__button--prev");
      const scrollNextButton = document.querySelector(".scroll-hint__button--next");
      const servicesSection = document.querySelector(".services-scroll");
      const areaScroller = document.querySelector(".area-scroller");
      const areaItems = areaScroller
        ? Array.from(areaScroller.querySelectorAll(".area-track span"))
        : [];
      const stickyNav = document.querySelector(".sticky-nav");
      const langSelect = document.querySelector("#lang-select");
      const heroMoreButton = document.querySelector(".hero-more-button");
      const heroMoreContent = document.querySelector("#hero-more-content");
      const heroMoreLabel = document.querySelector(".hero-more-button__label");
      const navLinks = Array.from(document.querySelectorAll(".sticky-nav .nav-item[href^=\"#\"]"));
      const internalAnchorLinks = Array.from(document.querySelectorAll("a[href^=\"#\"]"));
      const navLinkByHash = new Map(
        navLinks.map((link) => [link.getAttribute("href"), link])
      );
      const mainSections = ["#chi-siamo", "#servizi", "#contatti"]
        .map((hash) => ({ hash, el: document.querySelector(hash) }))
        .filter((item) => item.el);
      const serviceCardByHash = new Map(
        cards
          .filter((card) => card.id)
          .map((card) => [`#${card.id}`, card])
      );
      const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      let ticking = false;
      let cardsTicking = false;
      let areaLastTick = 0;
      let areaLoopId = null;
      let serviceAlignTimeout = null;
      let getClosestCard = null;
      let currentLang = "it";

      const setCurrentNav = (hash) => {
        navLinks.forEach((link) => link.classList.remove("is-current"));
        const target = navLinkByHash.get(hash);
        if (target) {
          target.classList.add("is-current");
        }
      };

      const getStickyOffset = () => {
        if (!stickyNav) {
          return 16;
        }
        return Math.ceil(stickyNav.getBoundingClientRect().height) + 14;
      };

      const scrollToHashTarget = (hash, behavior = prefersReducedMotion ? "auto" : "smooth") => {
        const target = document.querySelector(hash);
        if (!target) {
          return false;
        }
        const stickyOffset = getStickyOffset();
        let top = target.getBoundingClientRect().top + window.scrollY - stickyOffset;
        if (hash === "#chi-siamo") {
          const servicesTarget = document.querySelector("#servizi");
          if (servicesTarget) {
            const servicesTop = servicesTarget.getBoundingClientRect().top + window.scrollY;
            const topBeforeServices = servicesTop - window.innerHeight - 6;
            top = Math.min(top, topBeforeServices);
          }
        }
        window.scrollTo({
          top: Math.max(0, top),
          behavior
        });
        return true;
      };

      const scrollToServiceByHash = (hash, behavior = prefersReducedMotion ? "auto" : "smooth") => {
        if (!scrollContainer) {
          return false;
        }
        const targetCard = serviceCardByHash.get(hash);
        if (!targetCard) {
          return false;
        }
        scrollToHashTarget("#servizi", behavior);
        const alignCard = (cardBehavior = behavior) => {
          const containerWidth = scrollContainer.clientWidth;
          const maxLeft = Math.max(0, scrollContainer.scrollWidth - containerWidth);
          const targetLeft =
            targetCard.offsetLeft + targetCard.offsetWidth / 2 - containerWidth / 2;
          const nextLeft = Math.min(Math.max(targetLeft, 0), maxLeft);
          scrollContainer.scrollTo({
            left: nextLeft,
            behavior: cardBehavior
          });
        };
        alignCard(behavior);
        if (serviceAlignTimeout !== null) {
          window.clearTimeout(serviceAlignTimeout);
        }
        serviceAlignTimeout = window.setTimeout(() => {
          alignCard(prefersReducedMotion ? "auto" : "smooth");
          serviceAlignTimeout = null;
        }, 500);
        return true;
      };

      const getCurrentMainSectionHash = () => {
        const markerY = window.scrollY + window.innerHeight * 0.38;
        let activeHash = mainSections[0] ? mainSections[0].hash : "#chi-siamo";
        mainSections.forEach(({ hash, el }) => {
          if (el.offsetTop <= markerY) {
            activeHash = hash;
          }
        });
        return activeHash;
      };

      const updateActiveNav = () => {
        let targetHash = getCurrentMainSectionHash();
        const hasReachedServices = servicesSection
          ? window.scrollY >= servicesSection.offsetTop - getStickyOffset() - 2
          : false;
        if (targetHash === "#servizi" && !hasReachedServices) {
          targetHash = "#chi-siamo";
        }
        if (targetHash === "#servizi" && hasReachedServices && typeof getClosestCard === "function") {
          const closest = getClosestCard();
          if (closest && closest.id) {
            const serviceHash = `#${closest.id}`;
            const serviceLink = navLinkByHash.get(serviceHash);
            if (serviceLink && window.getComputedStyle(serviceLink).display !== "none") {
              targetHash = serviceHash;
            }
          }
        }
        setCurrentNav(targetHash);
      };

      const updateHeroMoreLabel = (lang) => {
        if (!heroMoreButton || !heroMoreLabel) {
          return;
        }
        const dict = translations[lang] || translations.it;
        const isExpanded = heroMoreButton.getAttribute("aria-expanded") === "true";
        heroMoreLabel.textContent = isExpanded ? dict["hero.less"] : dict["hero.more"];
      };

      const syncHeroMoreHeight = () => {
        if (!heroMoreButton || !heroMoreContent) {
          return;
        }
        const isExpanded = heroMoreButton.getAttribute("aria-expanded") === "true";
        heroMoreContent.style.maxHeight = isExpanded ? `${heroMoreContent.scrollHeight}px` : "0px";
      };

      const setHeroMoreExpanded = (expanded) => {
        if (!heroMoreButton || !heroMoreContent) {
          return;
        }
        heroMoreButton.setAttribute("aria-expanded", String(expanded));
        heroMoreContent.setAttribute("aria-hidden", String(!expanded));
        heroMoreButton.classList.toggle("is-open", expanded);
        heroMoreContent.classList.toggle("is-open", expanded);
        if (expanded) {
          heroMoreContent.style.maxHeight = `${heroMoreContent.scrollHeight}px`;
        } else {
          heroMoreContent.style.maxHeight = `${heroMoreContent.scrollHeight}px`;
          window.requestAnimationFrame(() => {
            heroMoreContent.style.maxHeight = "0px";
          });
        }
        updateHeroMoreLabel(currentLang);
      };

      const updateScrollEffects = () => {
        const scrollY = window.scrollY;
        const scrollRange = Math.max(document.documentElement.scrollHeight - window.innerHeight, 1);
        const scrollProgress = Math.min(scrollY / scrollRange, 1);
        if (stickyNav) {
          if (scrollY > 60) {
            stickyNav.classList.add("is-scrolled");
          } else {
            stickyNav.classList.remove("is-scrolled");
          }
          stickyNav.style.setProperty("--scroll-progress", scrollProgress.toFixed(4));
        }

        if (headerScrollHint) {
          const fadeStart = 60;
          const fadeEnd = 430;
          const progress = Math.min(
            Math.max((scrollY - fadeStart) / Math.max(fadeEnd - fadeStart, 1), 0),
            1
          );
          headerScrollHint.style.opacity = (1 - progress).toFixed(2);
          headerScrollHint.style.transform = `translateX(-50%) translateY(${(progress * 14).toFixed(1)}px)`;
        }
        if (prefersReducedMotion) {
          if (heroTitle) {
            heroTitle.style.transform = "none";
            heroTitle.classList.add("is-lit");
          }
          if (serviziTitle) {
            serviziTitle.style.transform = "none";
          }
          if (beamTitle) {
            beamTitle.classList.add("is-lit");
          }
          if (cardsBeam) {
            cardsBeam.classList.add("is-lit");
          }
          if (companySection) {
            companySection.style.setProperty("--circuit-opacity", "0.5");
            companySection.style.setProperty("--circuit-scale", "1");
          }
          if (servicesSection) {
            servicesSection.classList.add("is-revealed");
          }
          updateActiveNav();
          ticking = false;
          return;
        }
        if (heroTitle) {
          const companyTop = companySection
            ? companySection.offsetTop - getStickyOffset()
            : 0;
          const localScroll = companySection
            ? Math.max(0, scrollY - companyTop)
            : scrollY;
          const lift = Math.min(120, localScroll * 0.35);
          heroTitle.style.transform = `translateY(${-lift}px)`;
          const rect = heroTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8 && rect.bottom > vh * 0.2) {
            heroTitle.classList.add("is-lit");
          } else {
            heroTitle.classList.remove("is-lit");
          }
        }

        if (serviziTitle) {
          const rect = serviziTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          const progress = Math.min(1, Math.max(0, (vh * 0.85 - rect.top) / (vh * 0.45)));
          serviziTitle.style.transform = `translateY(${-24 * progress}px)`;
        }

        if (beamTitle) {
          const rect = beamTitle.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.75 && rect.bottom > 0) {
            beamTitle.classList.add("is-lit");
          } else {
            beamTitle.classList.remove("is-lit");
          }
        }

        if (cardsBeam) {
          const rect = cardsBeam.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8 && rect.bottom > 0) {
            cardsBeam.classList.add("is-lit");
          } else {
            cardsBeam.classList.remove("is-lit");
          }
        }

        if (companySection) {
          const rect = companySection.getBoundingClientRect();
          const vh = window.innerHeight;
          const center = rect.top + rect.height / 2;
          const distance = Math.abs(vh / 2 - center);
          const range = vh * 0.8;
          const intensity = Math.max(0, 1 - distance / range);
          const scale = 0.85 + intensity * 0.2;
          companySection.style.setProperty("--circuit-opacity", (0.15 + intensity * 0.55).toFixed(3));
          companySection.style.setProperty("--circuit-scale", scale.toFixed(3));
        }

        if (servicesSection) {
          const rect = servicesSection.getBoundingClientRect();
          const vh = window.innerHeight;
          if (rect.top < vh * 0.8) {
            servicesSection.classList.add("is-revealed");
          }
        }

        updateActiveNav();
        ticking = false;
      };

      const onScroll = () => {
        if (!ticking) {
          window.requestAnimationFrame(updateScrollEffects);
          ticking = true;
        }
      };

      window.addEventListener("scroll", onScroll, { passive: true });
      window.addEventListener("resize", onScroll);
      updateScrollEffects();

      const updateAreaFocus = () => {
        if (!areaScroller || areaItems.length === 0) {
          return;
        }
        const scrollerRect = areaScroller.getBoundingClientRect();
        const centerY = scrollerRect.top + scrollerRect.height / 2;
        let active = null;
        let activeDist = Infinity;
        const above = [];
        const below = [];

        areaItems.forEach((item) => {
          item.classList.remove("is-active", "is-up-1", "is-up-2", "is-down-1", "is-down-2");
          const rect = item.getBoundingClientRect();
          const itemCenter = rect.top + rect.height / 2;
          const dist = Math.abs(itemCenter - centerY);
          if (dist < activeDist) {
            activeDist = dist;
            active = item;
          }
        });

        areaItems.forEach((item) => {
          if (item === active) {
            return;
          }
          const rect = item.getBoundingClientRect();
          const itemCenter = rect.top + rect.height / 2;
          const delta = itemCenter - centerY;
          const dist = Math.abs(delta);
          if (delta < 0) {
            above.push({ item, dist });
          } else {
            below.push({ item, dist });
          }
        });

        if (active) {
          active.classList.add("is-active");
        }

        above.sort((a, b) => a.dist - b.dist);
        below.sort((a, b) => a.dist - b.dist);

        if (above[0]) {
          above[0].item.classList.add("is-up-1");
        }
        if (above[1]) {
          above[1].item.classList.add("is-up-2");
        }
        if (below[0]) {
          below[0].item.classList.add("is-down-1");
        }
        if (below[1]) {
          below[1].item.classList.add("is-down-2");
        }
      };

      const areaLoop = (time) => {
        if (!areaScroller || areaItems.length === 0 || prefersReducedMotion) {
          areaLoopId = null;
          return;
        }
        const rect = areaScroller.getBoundingClientRect();
        const inView = rect.bottom > 0 && rect.top < window.innerHeight;
        if (document.hidden || !inView) {
          areaLoopId = null;
          return;
        }
        if (time - areaLastTick > 120) {
          updateAreaFocus();
          areaLastTick = time;
        }
        areaLoopId = window.requestAnimationFrame(areaLoop);
      };

      const ensureAreaLoop = () => {
        if (!areaScroller || areaItems.length === 0 || prefersReducedMotion) {
          return;
        }
        const rect = areaScroller.getBoundingClientRect();
        const inView = rect.bottom > 0 && rect.top < window.innerHeight;
        if (!document.hidden && inView && areaLoopId === null) {
          areaLoopId = window.requestAnimationFrame(areaLoop);
        }
      };

      if (areaScroller && areaItems.length) {
        updateAreaFocus();
        ensureAreaLoop();
        window.addEventListener("resize", () => {
          updateAreaFocus();
          ensureAreaLoop();
        });
        window.addEventListener("scroll", ensureAreaLoop, { passive: true });
        document.addEventListener("visibilitychange", ensureAreaLoop);
      }

      const translations = {
        it: {
          "nav.about": "Chi siamo",
          "nav.services": "Servizi",
          "nav.electrical": "Impianti elettrici",
          "nav.solar": "Fotovoltaico",
          "nav.wallbox": "Wallbox",
          "nav.security": "Videosorveglianza",
          "nav.domotics": "Domotica",
          "nav.networks": "Reti",
          "nav.contacts": "Contatti",
          "hero.title": "Energia intelligente, sicurezza concreta.",
          "hero.lead":
            "Eletwave e una realta dinamica specializzata nella progettazione, realizzazione e manutenzione di impianti elettrici e soluzioni tecnologiche integrate per privati e aziende. Con sede in Friuli Venezia Giulia e operativita su un ampio territorio, offriamo servizi completi che spaziano dagli impianti elettrici civili e industriali alla domotica, sicurezza, automazioni ed energie rinnovabili, accompagnando il cliente in ogni fase del progetto: dall'analisi delle esigenze fino all'assistenza post-installazione.",
          "hero.lead.more.1":
            "L'azienda nasce dall'iniziativa di professionisti del settore con una solida esperienza nell'impiantistica elettrica e una forte attenzione all'innovazione tecnologica. La competenza maturata sul campo, unita alla formazione continua e al costante aggiornamento sulle normative di sicurezza, consente di proporre soluzioni efficienti, sicure e su misura, progettate per migliorare comfort, prestazioni energetiche e funzionalita degli ambienti.",
          "hero.lead.more.2":
            "L'obiettivo di Eletwave e diventare un punto di riferimento per chi cerca qualita, trasparenza e supporto costante nel tempo. Crediamo nel valore del rapporto diretto con il cliente, nella cura dei dettagli e in un servizio completo capace di coniugare innovazione, affidabilita e sostenibilita, garantendo risultati concreti e duraturi.",
          "hero.more": "Approfondisci",
          "hero.less": "Mostra meno",
          "services.title": "Servizi",
          "services.electrical.title": "Impianti elettrici",
          "services.electrical.desc":
            "Impianti civili e industriali a norma, con quadri, linee e punti luce. Manutenzioni e interventi rapidi su guasti.",
          "services.solar.title": "Impianti fotovoltaici con accumulo",
          "services.solar.desc":
            "Pannelli, inverter e batterie su misura per massimizzare autoconsumo ed efficienza. Integriamo ottimizzatori quando serve.",
          "services.wallbox.title": "Wallbox per ricarica EV",
          "services.wallbox.desc":
            "Wallbox con potenza configurata, protezioni dedicate e integrazione con fotovoltaico.",
          "services.security.title": "Videosorveglianza e antifurti",
          "services.security.desc":
            "Telecamere e antifurto con accesso remoto, notifiche in tempo reale e registrazioni sicure.",
          "services.domotics.title": "Domotica",
          "services.domotics.desc":
            "Controllo smart di luci, clima e accessi da app o voce, per piu comfort e risparmio.",
          "services.networks.title": "Reti e cablaggi",
          "services.networks.desc": "Reti dati e cablaggi con rack e punti certificati per connessioni stabili.",
          "services.scroll": "Scorri",
          "areas.title": "Operativi a",
          "contacts.title": "Contatti",
          "contacts.phone": "Telefono: +39 3930036372",
          "contacts.email": "Email: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Zona operativa: FVG",
          "contacts.vat": "P.IVA: 01245000318",
          "footer.nav": "Navigazione",
          "footer.note": "ELETWAVE. smart energy & security solutions"
        },
        en: {
          "nav.about": "About",
          "nav.services": "Services",
          "nav.electrical": "Electrical",
          "nav.solar": "Solar",
          "nav.wallbox": "Wallbox",
          "nav.security": "Security",
          "nav.domotics": "Domotics",
          "nav.networks": "Networks",
          "nav.contacts": "Contacts",
          "hero.title": "Smart energy, real security.",
          "hero.lead":
            "Eletwave is a dynamic company specialized in the design, implementation, and maintenance of electrical systems and integrated technology solutions for private clients and businesses. Based in Friuli Venezia Giulia and operating across a wide territory, we provide complete services ranging from residential and industrial electrical systems to domotics, security, automation, and renewable energy, supporting clients through every project phase: from needs analysis to post-installation assistance.",
          "hero.lead.more.1":
            "The company was founded by industry professionals with solid experience in electrical engineering and a strong focus on technological innovation. Field expertise, continuous training, and constant updates on safety regulations allow us to deliver efficient, safe, and tailored solutions designed to improve comfort, energy performance, and the functionality of spaces.",
          "hero.lead.more.2":
            "Eletwave's goal is to become a trusted reference for those seeking quality, transparency, and consistent support over time. We believe in direct client relationships, attention to detail, and a complete service that combines innovation, reliability, and sustainability to deliver concrete, long-lasting results.",
          "hero.more": "Read more",
          "hero.less": "Show less",
          "services.title": "Services",
          "services.electrical.title": "Electrical systems",
          "services.electrical.desc":
            "Compliant residential and industrial systems with panels, lines, and lighting points. Maintenance and fast fault response.",
          "services.solar.title": "Solar with storage",
          "services.solar.desc":
            "Tailored panels, inverters, and batteries to maximize self-consumption and efficiency. Optimizers when needed.",
          "services.wallbox.title": "EV wallbox charging",
          "services.wallbox.desc":
            "Wallbox with configured power, dedicated protections, and solar integration.",
          "services.security.title": "CCTV and alarms",
          "services.security.desc":
            "Cameras and alarms with remote access, real-time alerts, and secure recordings.",
          "services.domotics.title": "Domotics",
          "services.domotics.desc":
            "Smart control of lights, climate, and access via app or voice for more comfort and savings.",
          "services.networks.title": "Networks and cabling",
          "services.networks.desc":
            "Data networks and cabling with racks and certified points for stable connections.",
          "services.scroll": "Scroll",
          "areas.title": "Operating in",
          "contacts.title": "Contacts",
          "contacts.phone": "Phone: +39 3930036372",
          "contacts.email": "Email: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Operating area: FVG",
          "contacts.vat": "VAT: 01245000318",
          "footer.nav": "Navigation",
          "footer.note": "ELETWAVE. smart energy & security solutions"
        },
        sl: {
          "nav.about": "O nas",
          "nav.services": "Storitve",
          "nav.electrical": "Elektrika",
          "nav.solar": "Fotovoltaika",
          "nav.wallbox": "Wallbox",
          "nav.security": "Varnost",
          "nav.domotics": "Domotika",
          "nav.networks": "Omrezja",
          "nav.contacts": "Kontakti",
          "hero.title": "Pametna energija, resnicna varnost.",
          "hero.lead":
            "Eletwave je dinamicno podjetje, specializirano za nacrtovanje, izvedbo in vzdrzevanje elektricnih sistemov ter integriranih tehnoloskih resitev za zasebne in poslovne stranke. S sedezem v Furlaniji-Julijski krajini in delovanjem na sirokem obmocju nudimo celovite storitve od stanovanjskih in industrijskih elektricnih instalacij do domotike, varnosti, avtomatizacije in obnovljivih virov energije ter spremljamo stranko v vseh fazah projekta: od analize potreb do podpore po izvedbi.",
          "hero.lead.more.1":
            "Podjetje je nastalo na pobudo strokovnjakov z bogatimi izkusnjami na podrocju elektricnih instalacij in z mocnim poudarkom na tehnoloskih inovacijah. Znanje s terena, stalno izobrazevanje in redno spremljanje varnostnih predpisov nam omogocajo pripravo ucinkovitih, varnih in prilagojenih resitev za boljse udobje, energetsko ucinkovitost in funkcionalnost prostorov.",
          "hero.lead.more.2":
            "Cilj podjetja Eletwave je postati referencna izbira za vse, ki iscejo kakovost, preglednost in stalno podporo skozi cas. Verjamemo v neposreden odnos s stranko, pozornost do podrobnosti in celovito storitev, ki zdruzuje inovacije, zanesljivost in trajnost za konkretne in dolgotrajne rezultate.",
          "hero.more": "Preberi vec",
          "hero.less": "Prikazi manj",
          "services.title": "Storitve",
          "services.electrical.title": "Elektricni sistemi",
          "services.electrical.desc":
            "Skladni stanovanjski in industrijski sistemi s paneli, vodi in tockami razsvetljave. Vzdrzevanje in hitri posegi.",
          "services.solar.title": "Fotovoltaika z hranilniki",
          "services.solar.desc":
            "Prilagojeni paneli, razsmerniki in baterije za najvecjo samooskrbo in ucinkovitost. Po potrebi dodamo optimizatorje.",
          "services.wallbox.title": "Wallbox polnjenje EV",
          "services.wallbox.desc":
            "Wallbox z nastavljeno mocjo, namensko zascito in povezavo s fotovoltaiko.",
          "services.security.title": "Videonadzor in alarmi",
          "services.security.desc":
            "Kamere in alarmi z oddaljenim dostopom, obvestili v realnem casu in varnimi posnetki.",
          "services.domotics.title": "Domotika",
          "services.domotics.desc":
            "Pametni nadzor luci, klime in dostopa prek aplikacije ali glasu za vec udobja in prihrankov.",
          "services.networks.title": "Omrezja in kabliranje",
          "services.networks.desc":
            "Podatkovna omrezja in kabliranje z racki in certificiranimi tockami za stabilne povezave.",
          "services.scroll": "Pomakni",
          "areas.title": "Aktivni v",
          "contacts.title": "Kontakti",
          "contacts.phone": "Telefon: +39 3930036372",
          "contacts.email": "E-posta: <a href=\"mailto:eletwave@gmail.com\">eletwave@gmail.com</a>",
          "contacts.area": "Obmocje dela: FVG",
          "contacts.vat": "DDV: 01245000318",
          "footer.nav": "Navigacija",
          "footer.note": "ELETWAVE. smart energy & security solutions"
        }
      };

      const applyTranslations = (lang) => {
        const dict = translations[lang] || translations.it;
        currentLang = lang;
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (dict[key]) {
            el.textContent = dict[key];
          }
        });
        document.querySelectorAll("[data-i18n-html]").forEach((el) => {
          const key = el.getAttribute("data-i18n-html");
          if (dict[key]) {
            el.innerHTML = dict[key];
          }
        });
        if (langSelect) {
          langSelect.value = lang;
        }
        updateHeroMoreLabel(lang);
        syncHeroMoreHeight();
      };

      const savedLang = localStorage.getItem("eletwave-lang") || "it";
      applyTranslations(savedLang);
      if (heroMoreButton && heroMoreContent) {
        setHeroMoreExpanded(false);
        heroMoreButton.addEventListener("click", () => {
          const isExpanded = heroMoreButton.getAttribute("aria-expanded") === "true";
          setHeroMoreExpanded(!isExpanded);
        });
        window.addEventListener("resize", syncHeroMoreHeight);
      }
      if (langSelect) {
        langSelect.value = savedLang;
        langSelect.addEventListener("change", () => {
          const lang = langSelect.value;
          localStorage.setItem("eletwave-lang", lang);
          applyTranslations(lang);
        });
      }

      internalAnchorLinks.forEach((link) => {
        const hash = link.getAttribute("href");
        if (!hash || hash === "#") {
          return;
        }
        link.addEventListener("click", (event) => {
          const handledByService = scrollToServiceByHash(hash);
          const handledBySection = handledByService ? true : scrollToHashTarget(hash);
          if (!handledBySection) {
            return;
          }
          event.preventDefault();
          if (history.replaceState) {
            history.replaceState(null, "", hash);
          }
        });
      });

      if (window.location.hash) {
        window.setTimeout(() => {
          if (!scrollToServiceByHash(window.location.hash, "auto")) {
            scrollToHashTarget(window.location.hash, "auto");
          }
        }, 0);
      }

      if (scrollContainer) {
        const updateSnapPadding = () => {
          const firstCard = scrollContainer.querySelector(".scroll-card");
          if (!firstCard) {
            return;
          }
          const containerWidth = scrollContainer.getBoundingClientRect().width;
          const cardWidth = firstCard.getBoundingClientRect().width;
          const sidePadding = Math.max(0, (containerWidth - cardWidth) / 2);
          scrollContainer.style.scrollPaddingLeft = `${sidePadding}px`;
          scrollContainer.style.scrollPaddingRight = `${sidePadding}px`;
        };

        updateSnapPadding();

        getClosestCard = () => {
          const containerRect = scrollContainer.getBoundingClientRect();
          const centerX = containerRect.left + containerRect.width / 2;
          let closest = null;
          let closestDist = Infinity;

          cards.forEach((card) => {
            const rect = card.getBoundingClientRect();
            const cardCenter = rect.left + rect.width / 2;
            const dist = Math.abs(centerX - cardCenter);
            if (dist < closestDist) {
              closestDist = dist;
              closest = card;
            }
          });

          return closest;
        };

        const updateActiveCard = () => {
          const closest = getClosestCard();
          cards.forEach((card) => card.classList.remove("is-active"));
          if (closest) {
            closest.classList.add("is-active");
          }
          const activeIndex = closest ? cards.indexOf(closest) : 0;
          if (scrollPrevButton) {
            scrollPrevButton.disabled = activeIndex <= 0;
          }
          if (scrollNextButton) {
            scrollNextButton.disabled = activeIndex >= cards.length - 1;
          }
          updateActiveNav();
          cardsTicking = false;
        };

        const scrollToCard = (nextIndex) => {
          const targetIndex = Math.min(Math.max(nextIndex, 0), cards.length - 1);
          const targetCard = cards[targetIndex];
          if (!targetCard) {
            return;
          }
          targetCard.scrollIntoView({
            behavior: prefersReducedMotion ? "auto" : "smooth",
            inline: "center",
            block: "nearest"
          });
        };

        const onCardsScroll = () => {
          if (!cardsTicking) {
            window.requestAnimationFrame(() => {
              updateActiveCard();
              cardsTicking = false;
            });
            cardsTicking = true;
          }
        };

        scrollContainer.addEventListener("scroll", onCardsScroll, { passive: true });
        if (scrollPrevButton) {
          scrollPrevButton.addEventListener("click", () => {
            const closest = getClosestCard();
            const activeIndex = closest ? cards.indexOf(closest) : 0;
            scrollToCard(activeIndex - 1);
          });
        }
        if (scrollNextButton) {
          scrollNextButton.addEventListener("click", () => {
            const closest = getClosestCard();
            const activeIndex = closest ? cards.indexOf(closest) : 0;
            scrollToCard(activeIndex + 1);
          });
        }
        window.addEventListener("resize", () => {
          updateSnapPadding();
          onCardsScroll();
        });
        updateActiveCard();
      }

    </script>
  </body>
</html>
